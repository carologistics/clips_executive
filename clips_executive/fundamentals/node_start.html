<!DOCTYPE html>
<html class="writer-html5" lang="en" >
<head>
  <meta charset="utf-8" /><meta name="generator" content="Docutils 0.17.1: http://docutils.sourceforge.net/" />

  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>Environment Manager Configuration &mdash; clips_executive 0.1.0 documentation</title>
      <link rel="stylesheet" href="../_static/pygments.css" type="text/css" />
      <link rel="stylesheet" href="../_static/css/theme.css" type="text/css" />
  
        <script data-url_root="../" id="documentation_options" src="../_static/documentation_options.js"></script>
        <script src="../_static/jquery.js"></script>
        <script src="../_static/underscore.js"></script>
        <script src="../_static/doctools.js"></script>
    <script src="../_static/js/theme.js"></script>
    <link rel="index" title="Index" href="../genindex.html" />
    <link rel="search" title="Search" href="../search.html" />
    <link rel="next" title="Logging and Routing" href="logging.html" />
    <link rel="prev" title="Fundamentals" href="index.html" /> 
</head>

<body class="wy-body-for-nav"> 
  <div class="wy-grid-for-nav">
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search" >
            <a href="../index.html" class="icon icon-home"> clips_executive
          </a>
              <div class="version">
                0.1
              </div>
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="../search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>
        </div><div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="Navigation menu">
              <ul class="current">
<li class="toctree-l1 current"><a class="reference internal" href="../index.html">ROS 2 Clips-Executive</a><ul class="current">
<li class="toctree-l2"><a class="reference internal" href="../index.html#clips">CLIPS</a></li>
<li class="toctree-l2 current"><a class="reference internal" href="../index.html#overview">Overview</a><ul class="current">
<li class="toctree-l3"><a class="reference internal" href="../index.html#package-index">Package Index</a></li>
<li class="toctree-l3 current"><a class="reference internal" href="../index.html#related-projects">Related Projects</a><ul class="current">
<li class="toctree-l4"><a class="reference internal" href="../getting_started/index.html">Getting Started</a></li>
<li class="toctree-l4 current"><a class="reference internal" href="index.html">Fundamentals</a></li>
<li class="toctree-l4"><a class="reference internal" href="../plugins/index.html">CLIPS Plugins</a></li>
<li class="toctree-l4"><a class="reference internal" href="../plugin_generator/index.html">ROS Interface Plugin Generator</a></li>
<li class="toctree-l4"><a class="reference internal" href="../tutorials/index.html">Tutorials</a></li>
</ul>
</li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../getting_started/index.html">Getting Started</a></li>
<li class="toctree-l1 current"><a class="reference internal" href="index.html">Fundamentals</a><ul class="current">
<li class="toctree-l2 current"><a class="current reference internal" href="#">Environment Manager Configuration</a><ul>
<li class="toctree-l3"><a class="reference internal" href="#parameters">Parameters</a></li>
<li class="toctree-l3"><a class="reference internal" href="#example">Example</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="logging.html">Logging and Routing</a></li>
<li class="toctree-l2"><a class="reference internal" href="dynamic.html">Dynamic Setup via Services</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../plugins/index.html">CLIPS Plugins</a></li>
<li class="toctree-l1"><a class="reference internal" href="../plugin_generator/index.html">ROS Interface Plugin Generator</a></li>
<li class="toctree-l1"><a class="reference internal" href="../tutorials/index.html">Tutorials</a></li>
</ul>

        </div>
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap"><nav class="wy-nav-top" aria-label="Mobile navigation menu" >
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="../index.html">clips_executive</a>
      </nav>

      <div class="wy-nav-content">
        <div class="rst-content">
          <div role="navigation" aria-label="Page navigation">
  <ul class="wy-breadcrumbs">
      <li><a href="../index.html" class="icon icon-home"></a> &raquo;</li>
          <li><a href="index.html">Fundamentals</a> &raquo;</li>
      <li>Environment Manager Configuration</li>
      <li class="wy-breadcrumbs-aside">
            <a href="../_sources/fundamentals/node_start.rst.txt" rel="nofollow"> View page source</a>
      </li>
  </ul>
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
             
  <section id="environment-manager-configuration">
<h1>Environment Manager Configuration<a class="headerlink" href="#environment-manager-configuration" title="Permalink to this headline"></a></h1>
<p>To just launch a bare unconfigured node, just run the following command:</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>ros2 run cx_clips_env_manager clips_node
</pre></div>
</div>
<p>A more practical way to to start the node (including automatic transitions to activate and finally deactivate on exit) is also provided (Source code on <a class="reference external" href="https://github.com/fawkesrobotics/ros2-clips-executive/blob/master/cx_bringup/src/cx_node.cpp">GitHub</a>).</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>ros2 run cx_bringup cx_node
</pre></div>
</div>
<p>This is especially useful when combining it with a <a class="reference external" href="https://docs.ros.org/en/humble/Tutorials/Intermediate/Launch/Creating-Launch-Files.html">launch file</a> to automatically pass configuration options to the node.
An example launch file can be found on <a class="reference external" href="https://github.com/fawkesrobotics/ros2-clips-executive/blob/master/cx_bringup/launch/cx_launch.py">GitHub</a>.</p>
<section id="parameters">
<h2>Parameters<a class="headerlink" href="#parameters" title="Permalink to this headline"></a></h2>
<p>In the following, the node parameters of the environment manader node are listed.</p>
<dl class="field-list">
<dt class="field-odd">environments</dt>
<dd class="field-odd"><table class="docutils align-default">
<colgroup>
<col style="width: 67%" />
<col style="width: 33%" />
</colgroup>
<tbody>
<tr class="row-odd"><td><p>Type</p></td>
<td><p>Default</p></td>
</tr>
<tr class="row-even"><td><p>string vector</p></td>
<td><p>[]</p></td>
</tr>
</tbody>
</table>
<dl class="simple">
<dt>Description</dt><dd><p>Each entry should be a unique name for an environment. Each environment <em>&lt;env&gt;</em> is further specified with the parameters below.</p>
</dd>
</dl>
</dd>
<dt class="field-even"><cite>&lt;env&gt;.log_clips_to_file</cite></dt>
<dd class="field-even"><table class="docutils align-default">
<colgroup>
<col style="width: 67%" />
<col style="width: 33%" />
</colgroup>
<tbody>
<tr class="row-odd"><td><p>Type</p></td>
<td><p>Default</p></td>
</tr>
<tr class="row-even"><td><p>bool</p></td>
<td><p>true</p></td>
</tr>
</tbody>
</table>
<dl class="simple">
<dt>Description</dt><dd><p>If set to <em>true</em>, each environment creates a log file &lt;env-name&gt;_&lt;timestamp&gt;.log in the ROS log directory contianing all CLIPS output.</p>
</dd>
</dl>
</dd>
<dt class="field-odd"><cite>&lt;env&gt;.watch</cite></dt>
<dd class="field-odd"><table class="docutils align-default">
<colgroup>
<col style="width: 67%" />
<col style="width: 33%" />
</colgroup>
<tbody>
<tr class="row-odd"><td><p>Type</p></td>
<td><p>Default</p></td>
</tr>
<tr class="row-even"><td><p>string vector</p></td>
<td><p>[]</p></td>
</tr>
</tbody>
</table>
<dl class="simple">
<dt>Description</dt><dd><p>Watch items to define verbosity of the environment.
Possible values: [“all”, “facts”, “instances”, “slots”, “rules”, “activations”, “messages”, “message_handlers”, “generic_functions”, “methods”, “deffunctions”, “compilations”, “statistics”, “globals”, “focus”]</p>
</dd>
</dl>
</dd>
<dt class="field-even"><cite>&lt;env&gt;.plugins</cite></dt>
<dd class="field-even"><table class="docutils align-default">
<colgroup>
<col style="width: 67%" />
<col style="width: 33%" />
</colgroup>
<tbody>
<tr class="row-odd"><td><p>Type</p></td>
<td><p>Default</p></td>
</tr>
<tr class="row-even"><td><p>string vector</p></td>
<td><p>[]</p></td>
</tr>
</tbody>
</table>
<dl class="simple">
<dt>Description</dt><dd><p>List of unique plugin names.
Each plugin <em>&lt;plugin&gt;</em> is further specified with parameters depending on the chosen specifier (plugin type).</p>
</dd>
</dl>
</dd>
<dt class="field-odd"><cite>&lt;env&gt;.redirect_stdout_to_debug</cite></dt>
<dd class="field-odd"><table class="docutils align-default">
<colgroup>
<col style="width: 67%" />
<col style="width: 33%" />
</colgroup>
<tbody>
<tr class="row-odd"><td><p>Type</p></td>
<td><p>Default</p></td>
</tr>
<tr class="row-even"><td><p>bool</p></td>
<td><p>false</p></td>
</tr>
</tbody>
</table>
<dl class="simple">
<dt>Description</dt><dd><p>If set to true, all CLIPS output that logs to the <code class="docutils literal notranslate"><span class="pre">clips::STDOUT=&quot;stdout&quot;</span></code> router is logged in ROS via <code class="docutils literal notranslate"><span class="pre">RCLCPP_DEBUG</span></code> instead of <code class="docutils literal notranslate"><span class="pre">RCLCPP_INFO</span></code>.
This is useful when the (often rather verbose) default CLIPS output should be captured in the log file but should not spam the main terminal.
CLIPs programs that use other routers (such as <code class="docutils literal notranslate"><span class="pre">info</span></code> or <code class="docutils literal notranslate"><span class="pre">t</span></code>) to print output still appear using <code class="docutils literal notranslate"><span class="pre">RCLCPP_INFO</span></code>.</p>
</dd>
</dl>
</dd>
<dt class="field-even"><cite>&lt;plugin&gt;.plugin</cite></dt>
<dd class="field-even"><table class="docutils align-default">
<colgroup>
<col style="width: 67%" />
<col style="width: 33%" />
</colgroup>
<tbody>
<tr class="row-odd"><td><p>Type</p></td>
<td><p>Default</p></td>
</tr>
<tr class="row-even"><td><p>string</p></td>
<td><p>“”</p></td>
</tr>
</tbody>
</table>
<dl class="simple">
<dt>Description</dt><dd><p>The specifier of the pluginlib plugin.
This needs to name a plugin type registered in the ament index.</p>
</dd>
</dl>
</dd>
</dl>
<p>The configuration options of plugins are described <a class="reference internal" href="../user_docs/plugins/index.html#plugins"><span class="std std-ref">here</span></a>.</p>
</section>
<section id="example">
<h2>Example<a class="headerlink" href="#example" title="Permalink to this headline"></a></h2>
<div class="highlight-yaml notranslate"><div class="highlight"><pre><span></span><span class="nt">clips_manager</span><span class="p">:</span><span class="w"></span>
<span class="w">  </span><span class="nt">ros__parameters</span><span class="p">:</span><span class="w"></span>
<span class="w">    </span><span class="nt">environments</span><span class="p">:</span><span class="w"> </span><span class="p p-Indicator">[</span><span class="s">&quot;main&quot;</span><span class="p p-Indicator">]</span><span class="w"></span>
<span class="w">    </span><span class="nt">main</span><span class="p">:</span><span class="w"></span>
<span class="w">      </span><span class="nt">plugins</span><span class="p">:</span><span class="w"> </span><span class="p p-Indicator">[</span><span class="s">&quot;executive&quot;</span><span class="p p-Indicator">,</span><span class="s">&quot;files&quot;</span><span class="p p-Indicator">]</span><span class="w"></span>
<span class="w">      </span><span class="nt">log_clips_to_file</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">true</span><span class="w"></span>
<span class="w">      </span><span class="nt">watch</span><span class="p">:</span><span class="w"> </span><span class="p p-Indicator">[</span><span class="s">&quot;rules&quot;</span><span class="p p-Indicator">,</span><span class="w"> </span><span class="s">&quot;facts&quot;</span><span class="p p-Indicator">]</span><span class="w"></span>
<span class="w">    </span><span class="c1"># plugin definitions</span><span class="w"></span>
<span class="w">    </span><span class="c1"># ...</span><span class="w"></span>
</pre></div>
</div>
</section>
</section>


           </div>
          </div>
          <footer><div class="rst-footer-buttons" role="navigation" aria-label="Footer">
        <a href="index.html" class="btn btn-neutral float-left" title="Fundamentals" accesskey="p" rel="prev"><span class="fa fa-arrow-circle-left" aria-hidden="true"></span> Previous</a>
        <a href="logging.html" class="btn btn-neutral float-right" title="Logging and Routing" accesskey="n" rel="next">Next <span class="fa fa-arrow-circle-right" aria-hidden="true"></span></a>
    </div>

  <hr/>

  <div role="contentinfo">
    <p>&#169; Copyright 2024, Tarik Viehmann.</p>
  </div>

  Built with <a href="https://www.sphinx-doc.org/">Sphinx</a> using a
    <a href="https://github.com/readthedocs/sphinx_rtd_theme">theme</a>
    provided by <a href="https://readthedocs.org">Read the Docs</a>.
   

</footer>
        </div>
      </div>
    </section>
  </div>
  <script>
      jQuery(function () {
          SphinxRtdTheme.Navigation.enable(true);
      });
  </script> 

</body>
</html>